< [README](./README.md)

# Contributing to Fresnel

Refer to [API.md](./API.md) for overview of how Fresnel works
internally, as well as function-level documentation.

To contribute, you'll want to install Fresnel directly from the
Git repository, and create a dynamic link for easy use from the
command-line:

```
$ git clone https://gerrit.wikimedia.org/r/performance/fresnel
$ cd fresnel/

fresnel$ npm install
fresnel$ npm link

# Then, use the 'fresnel' command.
```

## Build steps

* `npm run test`
  Runs the linter, tests and regenerate the API docs.
  To run a specific test suite only, use `npx qunit path/to/test.js`
* `npm run doc`
  Regenerates the API docs.
* `npm run doc:dump`
 Â Lists the available [JSDoc identifiers](https://github.com/jsdoc2md/jsdoc-to-markdown/wiki/Listing-namepaths) to help with `{@link}` inside comments.

## Documentation

This project is documented with [JSDoc](http://usejsdoc.org/). [API.md](./API.md) is generated by [jsdoc2md](https://github.com/jsdoc2md/jsdoc-to-markdown/wiki). To locally view the Markdown files in a browser, you could [npm install -g md-fileserver](https://www.npmjs.com/package/md-fileserver) and  run `mdopen API.md`.

## Tests

This project is tested with [QUnit](https://api.qunitjs.com/assert/), using [nyc](https://istanbul.js.org/) for code coverage. The coverage report gets generated as part of the `npm run test` command. The nyc tool is configured in `package.json`. Run `npx nyc help config` to view its option documentation. View the code coverage report in a browser by opening the `.coverage/index.html` file.

## Release

This project is primarily installed as a command-line tool,
not as a library. As such, it maintains an `npm-shrinkwrap.json` file
instead of a `package-lock.json` file.

* <https://docs.npmjs.com/files/package-locks>
* <https://docs.npmjs.com/cli/shrinkwrap>

We also [keep a changelog](https://keepachangelog.com/en/1.0.0/). You may want to use the changelog command from [git-extras](https://github.com/tj/git-extras). If you do, invoke it as `CUR_GIT_LOG_FORMAT="* %s (%an)" git changelog`, which sets the format to match the existing entries.
